/*! HelpSmith Web Help System 3.0
* http://www.helpsmith.com
* Copyright (c) 2007-2017 Divcom Software */
function hsNaviObj(){function n(a){var b=$('<div id="sort-result-header"></div>');$('<span class="se-message"></span>').append(a).appendTo(b);$("#search-result").empty().append(b)}function r(a){var c=function(a,b){return a.data("title").localeCompare(b.data("title"))};b.$searchResultTree.hsTree("sortChildren","title"==a?c:function(a,b){return a.data("hsRank")==b.data("hsRank")?c(a,b):b.data("hsRank")-a.data("hsRank")});$.cookie("hswh-ssd",b.searchResultSortKind,{expires:30,path:"/"})}function t(a){p||
q?p&&a(!0):(q=!0,$.getScript("js/search-index.min.js").done(function(){p=!0;q=!1;a(!0)}).fail(function(){q=!1;a(!1)}))}var b=this;this.ready=!1;this.searchResultSortKind="rank";this.currentTopicContext=-1;this.hlKeywordNode=null;var p=this.specKeyPressedOnPopupLink=!1,q=!1;this.init=function(){var a=$.cookie("hswh-ssd");this.searchResultSortKind="title"!=a&&"rank"!=a?this.searchResultSortKind:a;$("#tabs").tabs({activate:function(){b.updateCurrentTab()}}).addClass("hs-ready");a=getWHSettings("tocAtimateExpandingCollapsingDuration",
0);this.$tocTree=$("#toc-tree");this.$tocTree.hsTree({expandSpeed:0>a?0:a,autoCollapse:getWHSettings("tocOnlyExpandSingleHeading",!1),noButtons:this.$tocTree.hasClass("hs-btn-none"),onActivate:function(a){var d=a.find("> .hstree-node-cnt a");if(1==d.length){var e=d.attr("href");e&&"#"!=e&&(window.open(e,d.attr("target")),b.closeNavi())}getWHSettings("tocAutoExpandOnActivate",!1)&&b.$tocTree.hsTree("expandNode",a)}});this.$indexTree=$("#index-tree").hsTree({expandSpeed:0,onNodeRender:function(a){a.find("> .hstree-node-btn, > .hstree-node-cnt .hstree-node-icon").remove()},
onQueryExpand:function(a,b){if(!b)return!1},onClick:function(a){var d=b.$indexTree.hsTree("getActiveNode");d&&d.is(a)&&b.$indexTree.hsTree("reActivateNode")},onActivate:function(a){var d=a.attr("data-topics");if("undefinded"!==typeof d){try{d=eval("["+d+"]")}catch(f){d=[]}if("object"===typeof d&&1<d.length){b.showKwdTopicList(a,d);return}}d=a.find("> .hstree-node-cnt a");if(1==d.length){var c=d.attr("href");if(c&&"#"!=c){b.destroyPopupBox();window.open(c,d.attr("target"));b.closeNavi();return}}b.showKwdNoEntryWarning(a)}});
this.$indexTree.find(".hstree-node").each(function(){b.$indexTree.hsTree("expandNode",$(this))});this.$indexTree.on("scroll",function(){b.destroyPopupBox()});$("input#kwd-search").on("keyup",function(a){b.selectKeyword($(this),a.which)});var c=$("#search-form");c.find(".search-btn").on("click",function(){c.submit()});c.on("submit",function(){b.search();return!1});$("body").on("keydown",function(a){switch(a.which){case 27:var c=b.getSelectedTab();"tab-index"==c?$("#popup-box").length&&(a.preventDefault(),
b.specKeyPressedOnPopupLink=!0,b.destroyPopupBox(),$("input#kwd-search").focus()):"tab-search"==c&&$("#sorting-popup-menu").is(":visible")&&(a.preventDefault(),b.hideSortingPopupMenu());break;case 38:case 40:"tab-index"==b.getSelectedTab()&&(c=$("#popup-box"),c.length&&!c.find(".hs-popuplink:focus").length&&(c=c.find(".hs-popuplink"),c.length&&(a.preventDefault(),40==a.which?c.first().focus():c.last().focus())))}}).on("mousedown",function(a){var c=b.getSelectedTab();"tab-index"==c?(c=$("#popup-box:visible"),
c.length&&!$(a.target).closest(c).length&&b.destroyPopupBox()):"tab-search"==c&&(c=$("#sorting-popup-menu:visible"),c.length&&!$(a.target).closest(c).length&&b.hideSortingPopupMenu())});$(window).on("resize.hsNaviObj",function(){b.alignTabPanel();b.alignIndexTree();b.alignSearchResultTree();b.updatePopupBoxWidth();b.hideSortingPopupMenu()}).trigger("resize.hsNaviObj")};this.closeNavi=function(){var a=window.parent.document;a&&$("#hs-header-m",a).is(":visible")&&window.parent.window.hsWebHelp.showNavi(!1)};
this.getTextLabel=function(a,b,e){(a=$("body").attr("data-"+a))||(a=b);"undefined"!==typeof e&&(a=a.replace("%s",e));return a};this.createPopupBox=function(){var a=$("<div></div>").attr("id","popup-box"),b=$("<div></div>").addClass("container").appendTo(a);$("<div></div>").addClass("content").appendTo(b);return a};this.calcPopupBoxWidth=function(a,b){"undefined"===typeof b&&(b=a.position().left);var c=$(window).width()-2*b-(a.outerWidth(!0)-a.width());350<c&&(c=350);return c};this.updatePopupBoxWidth=
function(a){"undefined"===typeof a&&(a=$("#popup-box"));a.length&&a.css("width",this.calcPopupBoxWidth(a))};this.alignPopupBox=function(a,b){var c=a.find("> .hstree-node-cnt a"),d=c.offset();b.css("width",this.calcPopupBoxWidth(b,d.left));var g=!0,c=d.top+c.outerHeight(!0)+11;c+b.outerHeight(!0)>$(window).height()&&(g=!1,c=d.top-b.outerHeight(!0)-11);b.css({top:c,left:d.left});g?b.addClass("pos-bottom"):b.addClass("pos-top")};this.showKwdNoEntryWarning=function(a){this.destroyPopupBox();var b=this.createPopupBox();
b.find("div.content").addClass("message").append(this.getTextLabel("index-noentry","To locate information about this keyword, please select one of the subentries in the list."));$("#tab-index").append(b);this.alignPopupBox(a,b);b.stop(!0,!0).fadeIn("fast")};this.showKwdTopicList=function(a,c){this.destroyPopupBox();for(var e=this.createPopupBox(),d=e.find("div.content"),d=$("<ul></ul>").appendTo(d),g=0;g<c.length;g++){var f=gTopicTable[c[g]],k=$("<li></li>").appendTo(d),m=a.find("> .hstree-node-cnt a").attr("target"),
f=$('<a class="hs-popuplink"></a>').attr({href:f[3]}).append(f[2]);m&&f.attr({target:m});f.on("keydown",function(a){var c=e.find("a.hs-popuplink").toArray(),d=$.inArray(this,c);switch(a.which){case 32:a.preventDefault();this.click();break;case 38:a.preventDefault();0<d&&c[--d].focus();break;case 40:a.preventDefault();d<c.length-1&&c[++d].focus();break;case 13:b.specKeyPressedOnPopupLink=!0}}).on("click",function(){b.destroyPopupBox();$("input#kwd-search").focus();b.closeNavi()}).appendTo(k)}$("#tab-index").append(e);
this.alignPopupBox(a,e);e.stop(!0,!0).fadeIn("fast")};this.selectKeyword=function(a,c){function e(a,c,d){var f=null;if(a.length&&d<c.length){var g=/[.;,:()_{}"\/\\|<>!\?\[\]\-\+\*=%&@#]/g,h=$.trim(c[d]);h&&(h=h.replace(g,""));if(h)for(var h=h.toLowerCase(),k=0;k<a.length;k++){var m=$(a[k]),l=m.data("title");l&&(l=l.replace(g,""));if(l&&(l=l.toLowerCase(),l.charAt(0)==h.charAt(0))){if(l.substring(0,h.length)==h){f=m;break}if(0<l.localeCompare(h)){a:{a=l;for(h=h.substring(0,h.length-1);""!=h;h=h.substring(0,
h.length-1))if(a.substring(0,h.length)==h){h=!0;break a}h=!1}h&&(f=m);break}else f=m}}}return f?(c=e(b.$indexTree.hsTree("getChildren",f),c,++d))?c:f:null}function d(){b.hlKeywordNode&&b.hlKeywordNode.removeClass("hs-highlight")}if(b.specKeyPressedOnPopupLink)b.specKeyPressedOnPopupLink=!1;else{var g=null,f=a.val().split(",");f.length&&(g=e(this.$indexTree.hsTree("getChildren"),f,0));(function(a){a?b.hlKeywordNode&&a.is(b.hlKeywordNode)||(d(),b.hlKeywordNode=a,b.hlKeywordNode&&b.hlKeywordNode.addClass("hs-highlight"),
b.destroyPopupBox()):(d(),b.hlKeywordNode=null,b.destroyPopupBox())})(g);(function(){var a=0;b.hlKeywordNode&&(k=b.$indexTree.find("> ul.hstree-root > li:first-child"),k.length&&(k.is(b.hlKeywordNode)||(a=b.hlKeywordNode.position().top+b.$indexTree.scrollTop())));b.$indexTree.scrollTop(a)})();if(13==c&&b.hlKeywordNode){var k=b.$indexTree.hsTree("getActiveNode");k&&k.is(b.hlKeywordNode)?b.$indexTree.hsTree("reActivateNode"):b.$indexTree.hsTree("setActiveNode",b.hlKeywordNode)}}};this.getSelectedTab=
function(){var a=$("#tabs li.ui-tabs-active > a").attr("href");""!=a&&(a=a.substring(1));return a};this.alignTabPanel=function(){$("#tabs .ui-tabs-panel:visible").css("height",$(window).height()-$("#tabs .ui-tabs-nav").outerHeight(!0))};this.alignIndexTree=function(){var a=$("#kwd-search-box:visible");0!=a.length&&this.$indexTree.is(":visible")&&this.$indexTree.css("height",$(window).height()-(a.position().top+a.outerHeight(!0)))};this.alignSearchResultTree=function(){var a=$("#sort-result-header:visible");
0!=a.length&&$("#search-result-tree:visible").css("height",$(window).height()-(a.position().top+a.outerHeight(!0)))};this.destroyPopupBox=function(){$("#popup-box").stop(!0,!0).hide().remove()};this.setCurrentTopic=function(a){"tab-toc"==this.getSelectedTab()&&this.activateTocNode(a);this.currentTopicContext=a;if(0<=this.currentTopicContext&&(a=$("#search-result-tree"),a.length)){var b=a.hsTree("getActiveNode");b&&gTopicTable[b.data("hsTopicIndex")][0]!=this.currentTopicContext&&a.hsTree("setActiveNode",
null)}};this.activateTocNode=function(a){if(this.$tocTree&&this.$tocTree.length){var b=this.$tocTree.hsTree("getActiveNode");if(b&&a==b.attr("data-context"))return!0;if(b=this.$tocTree.hsTree("getNodeByData","context",a))return this.$tocTree.hsTree("setActiveNode",b,!0),b.find("> .hstree-node-cnt a").focus(),!0}return!1};this.updateCurrentTab=function(){this.alignTabPanel();switch(this.getSelectedTab()){case "tab-toc":0<=this.currentTopicContext&&this.activateTocNode(this.currentTopicContext);this.destroyPopupBox();
break;case "tab-index":this.alignIndexTree();$("input#kwd-search").focus();break;case "tab-search":p=p||0<$('head script[src*="search-index.min.js"]').length,this.alignSearchResultTree(),$("input#squery").focus(),this.destroyPopupBox()}};this.hideSortingPopupMenu=function(){$("#sorting-popup-menu:visible").stop(!0,!0).fadeOut("fast")};this.createSortingPopupMenu=function(){function a(a,b,c,f){$('<li id="'+b+'" class="menu-item"></li>').append(c).appendTo(a).on("click",f)}var c=$('<ul id="sorting-popup-menu"></ul>');
a(c,"sort-by-rank",b.getTextLabel("sort-byrank","Most relevant"),function(a){a.stopPropagation();b.hideSortingPopupMenu();r(b.searchResultSortKind="rank")});a(c,"sort-by-title",b.getTextLabel("sort-bytitle","Topic title"),function(a){a.stopPropagation();b.hideSortingPopupMenu();r(b.searchResultSortKind="title")});return c};this.showResultBar=function(a){var c=$("<table></table>"),e=$("<tr></tr>").appendTo(c),d=$("<td></td>").appendTo(e);$('<span class="se-message"></span>').appendTo(d).append(a);
a=$("<td></td>").appendTo(e);var g=$('<div id="sort-control" class="text-label"></div>').append(b.getTextLabel("sort-title","Sort by")).on("click",function(a){a.stopPropagation();if(!g.find("#sorting-popup-menu:visible").length){a=g;switch(b.searchResultSortKind){case "title":a.find("#sort-by-title").addClass("menu-item-checked");a.find("#sort-by-rank").removeClass("menu-item-checked");break;case "rank":a.find("#sort-by-title").removeClass("menu-item-checked"),a.find("#sort-by-rank").addClass("menu-item-checked")}var c=
$("#sorting-popup-menu"),d=a.offset(),e=!0,f=d.top+a.outerHeight()+12;f+c.outerHeight(!0)>$(window).height()&&(f=d.top-c.outerHeight(!0)-12,e=!1);c.css({top:f,left:d.left+a.outerWidth()-c.outerWidth()});e?(c.addClass("pos-bottom"),c.removeClass("pos-top")):(c.addClass("pos-top"),c.removeClass("pos-bottom"));c.stop(!0,!0).fadeIn("fast")}});g.appendTo(a).append(this.createSortingPopupMenu());c=$('<div id="sort-result-header"></div>').append(c);$("#search-result").empty().append(c)};this.doSearch=function(){var a=
new searchEngine;if(a.search($("input#squery").val(),"phrase"==$('input[type="radio"][name="match"]:checked').val())){for(var c=$("<ul></ul>"),e=b.$tocTree.hasClass("hs-icons")?"hs-icons":b.$tocTree.hasClass("hs-icons-c")?"hs-icons-c":"",d=0;d<a.resultItems.length;d++){var g=a.resultItems[d],f=$("<li/>").appendTo(c).attr({title:g.getTitle()}).data({hsRank:g.rank,hsTopicIndex:g.topicIndex,hsHlValue:g.getWordsParamValue()});if("hs-icons"==e){var k=g.getIconClass();k&&f.addClass(k)}$("<a></a>").attr({href:g.getRef(),
target:"topic"}).appendTo(f).append(g.getTitle())}this.showResultBar(b.getTextLabel("search-found","%s topic(s) found:",a.resultItems.length));b.$searchResultTree=$('<div id="search-result-tree"></div>').append(c).appendTo("#search-result");e&&b.$searchResultTree.addClass(e);b.alignSearchResultTree();b.$searchResultTree.hsTree({onNodeRender:function(a){a.find("> .hstree-node-btn").remove()},onActivate:function(a){var c=a.find("> .hstree-node-cnt a");if(1==c.length){var d=c.attr("href");d&&"#"!=d&&
(d=d+"?highlight="+a.data("hsHlValue"),window.open(d,c.attr("target")),b.closeNavi())}},onDeactivate:function(a){a.addClass("visited-topic")}});r(b.searchResultSortKind)}else b.$searchResultTree=null,n(b.getTextLabel("search-notopics","No topics found."));switch(a.searchMatch){case tSearchMatch.EXACT:$("input#anywords").prop("checked",!0);break;case tSearchMatch.PHRASE:$("input#phrase").prop("checked",!0)}};this.search=function(){var a=$('<div id="search-wait"></div>');$("#search-result").empty().append(a);
t(function(a){a?b.doSearch():n("Error: Unable to load search index.")})}}var hsNavi=new hsNaviObj;$(document).ready(function(){hsNavi.init();if($("#hs-index-p",parent.window.document).length){var n=null,n=parent.window.hsWebHelp;if(!n)return;$(window).on("resize",function(){$("body").toggleClass("hs-mobile",n.isMobileMode())}).trigger("resize")}hsNavi.ready=!0});